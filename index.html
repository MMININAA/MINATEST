
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.1.4/dist/mindar-image.prod.js"></script>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.1.4/dist/mindar-image-aframe.prod.js"></script>
     <meta name="apple-mobile-web-app-capable" content="yes">
    <script>
       // Alright, a marker has been found. Let's get the video element
                    var vid = document.getElementById('#TestVideo');

                    // Make sure that the video a-frame object is visible
                    document.querySelector('#TestVideo').setAttribute('visible', true);

                    // Reset the video to the beginning and play it through
                    vid.currentTime = 0;                    
                    vid.play();
                    
                    // Once the video has completed, we're going to hide the a-video element
                    // which will display the a-image element with the watch behind it
                    vid.addEventListener('ended', function(e) {
                        document.querySelector('#TestVideo').setAttribute('visible', false);
                    });
                });
            }
        });
    </script>
  </head>
  <body>
    <a-scene mindar-image="imageTargetSrc: ./targets.mind;" color-space="sRGB" renderer="colorManagement: true, physicallyCorrectLights" vr-mode-ui="enabled: false" device-orientation-permission-ui="enabled: false">
      <a-assets>
        <img id="card" src="./card.png" />

          <video
                    id="TestVideo"
                    src="./test.mp4"
                    preload="auto"
                    type="mp4"
                    loop
                    crossorigin
                    webkit-playsinline
                    autoplay
                    muted
                    playsinline
                ></video>
      </a-assets>

      <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>
      <a-entity mindar-image-target="targetIndex: 0">
        <a-plane src="#card" position="0 0 0" height="0.552" width="1" rotation="0 0 0"></a-plane>
        <a-video src="#TestVideo" height="1" width="1" position="0 1 0"></a-video>
      </a-entity>
    </a-scene>
  </body>
</html>
